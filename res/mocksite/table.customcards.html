<html>
	<head>
		<title>Testing</title>
		<script src="netpokerclient.bundle.js"></script>
		<script>
			function getQueryStringParams() {
				var params = {};
				(function() {

					var match,
						pl = /\+/g, // Regex for replacing addition symbol with a space
						search = /([^&=]+)=?([^&]*)/g,
						decode = function(s) {
							return decodeURIComponent(s.replace(pl, " "));
						},
						query = window.location.search.substring(1).replace(/amp;/g, "");

					while (match = search.exec(query))
						params[decode(match[1])] = decode(match[2]);
				})();

				return params;
			};

			function run() {
				var params=getQueryStringParams();

				var netPokerClient = new NetPokerClient();
/*
				if (params["resources"])
					netPokerClient.setSkin(params["resources"]);
				else 
					netPokerClient.setSkin("textures.json");
*/
				netPokerClient.setSkin({
					graphics: {
						textures: [
							{
								id: "cardDiamondsQTexture",
								file: "queen.png"
							},
							{
								id: "cardDiamondsKTexture",
								file: "king.png"
							},
							{
								id: "cardBackTexture",
								file: "cardBack.png"
							}, 
							{
								id: "cardDiamondsATexture",
								file: "a.png"
							}
						],
						cardDiamondsQ: {
							texture: "cardDiamondsQTexture",
							coords: [0, 0, 89, 134]
						},
						cardDiamondsK: {
							texture: "cardDiamondsKTexture",
							coords: [0, 0, 89, 134]
						},
						cardDiamondsA: {
							texture: "cardDiamondsATexture",
							coords: [0, 0, 89, 134]
						},
						cardBack: {
							texture: "cardBackTexture",
							coords: [0, 0, 89, 134]
						}
					},
					values: {
						communityCardMargin: 10
					}
				});
				netPokerClient.setUrl("ws://"+window.location.host+"/");
				netPokerClient.setToken(params["token"]);

				if (params["tableId"])
					netPokerClient.setTableId(params["tableId"]);

				if (params["viewcase"])
					netPokerClient.setViewCase(params["viewcase"]);

				
				netPokerClient.run();
			}
		</script>
	</head>
	<body onload="run();">
	</body>
</html>